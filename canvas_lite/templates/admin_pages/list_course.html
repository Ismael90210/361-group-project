
{% extends "master.html" %}
{% load static %}
{% load site_tags %}

{% block title %}
    Admin model users
{% endblock %}

{% block includes %}

{% endblock %}

{% block content %}
    <h1>Courses</h1>
    <a href="{% url 'admin_home' %}">home</a><br>
    <a href="{% url 'add_model_generic' model_name="course" %}" class="btn">Add New Course</a>

    {% for course in courses %}
    <div class="course-card">
    <!--course info-->
        <h2>
            <a href="{% url 'edit_model' 'course' course.id %}">{{ course.name }}</a>
        </h2>


        <p>{{ course.description }}</p>




        <!--section info-->
        <a href="{% url 'add_model_section' model_name='section' course_id=course.id %}" class="btn">
            Add Section
        </a>
        <div class="sections-list">
            <h3>Sections:</h3>
            <ul>
                {% for section in course.sections.all %}
                <li>
                    <a href="{% url 'edit_model' 'section' section.id %}">
                        {{ section.name }} ({{ section.get_section_type_display }})
                    </a>

                    <div class="schedule">
                        instructor: {{ section.instructor }}<br>
                        schedule: {{ section.schedule|format_schedule }}
                    </div>
                </li>
                {% empty %}
                    <li>None</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}



{% endblock %}
